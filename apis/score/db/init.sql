CREATE TABLE  "SCORE_TABLE" 
   (	"ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"GAME_ID" NUMBER, 
	"USER_ID" VARCHAR2(3) COLLATE "USING_NLS_COMP", 
	"SCORE" NUMBER, 
	"UPDATED_ON" TIMESTAMP (6) DEFAULT ON NULL SYSTIMESTAMP NOT NULL ENABLE, 
	 CONSTRAINT "SCORE_TABLE_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE
   )  DEFAULT COLLATION "USING_NLS_COMP"
/

BEGIN
  ORDS.enable_object (
    p_enabled      => TRUE, -- Default  { TRUE | FALSE }
    p_schema       => 'OCIARCADE',
    p_object       => 'SCORE_TABLE',
    p_object_type  => 'TABLE', -- Default  { TABLE | VIEW }
    p_object_alias => 'score_table',
    p_auto_rest_auth => TRUE
  );

  COMMIT;
END;
/

DECLARE
  l_priv_roles owa.vc_arr;
  l_priv_patterns owa.vc_arr;
BEGIN
  l_priv_roles(1) := 'oracle.dbtools.role.autorest.OCIARCADE.SCORE_TABLE';
  l_priv_roles(2) := 'ociarcade api';
  l_priv_roles(3) := 'oracle.dbtools.autorest.any.schema';
  l_priv_roles(4) := 'SQL Developer';
  l_priv_patterns(1) := '/metadata-catalog/score_table/*';
  l_priv_patterns(2) := '/score_table/*';

  ords.define_privilege(
    p_privilege_name     => 'oracle.dbtools.autorest.privilege.OCIARCADE.SCORE_TABLE',
    p_roles              => l_priv_roles,
    p_patterns           => l_priv_patterns,
    p_label              => 'oracle.dbtools.autorest.privilege.OCIARCADE.SCORE_TABLE',
    p_description        => 'oracle.dbtools.autorest.privilege.OCIARCADE.SCORE_TABLE'
  );
  COMMIT;
END;
/
